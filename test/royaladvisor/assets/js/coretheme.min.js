function isElementInViewport(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function bgStep(){xp+=(mouseX-xp)/6,yp+=(mouseY-yp)/6,xPercent=Math.round(xp/w*300)-150,yPercent=Math.round(yp/wireframe.clientHeight*300)-150,xPercent>-10&&10>xPercent&&(xPercent=1),yPercent>-10&&10>yPercent&&(yPercent=1),wireframe.style.transform="rotateY("+xPercent/10+"deg) rotateX("+yPercent/10+"deg) scale(1.2)",window.requestAnimationFrame(bgStep)}$(document).ready(function(){!function(){"use strict";function e(){var e=$(".reviewActive");e.next().hasClass("review")?e.removeClass("reviewActive").next().addClass("reviewActive"):(e.removeClass("reviewActive"),$(".review").eq(0).addClass("reviewActive"))}function t(){var e=$(".reviewActive");e.prev().hasClass("review")?e.removeClass("reviewActive").prev().addClass("reviewActive"):(e.removeClass("reviewActive"),$(".review").last().addClass("reviewActive"))}function i(){clearInterval(r),r=setInterval(function(){e()},5e3)}function s(){$(".reviewCloud").each(function(){n=n>$(this).height()?n:$(this).height()}),$(".reviewsWrap").height(n+250),$(window).width()<768?$(".screen-item").width($(".screensViewport").width()):$(".screen-item").width(260),$(".screen-item-active").removeClass("screen-item-active"),$(".screen-item").eq(0).addClass("screen-item-active"),$(".screensPanel").css("left","0"),$(".sliderWrap img").each(function(){var e=$("this");e.css("margin-left","-"+e.width()/2+"px")})}$(".swipebox-video").swipebox();var n=-1,r;$(".reviewCloud").each(function(){n=n>$(this).height()?n:$(this).height()}),$(".reviewsWrap").height(n+250),$(".review").eq(0).addClass("reviewActive"),$(".revNaviRight").click(function(){e(),i(!0)}),$(".revNaviLeft").click(function(){t(),i(!0)}),i(!0),$(".review").hover(function(){clearInterval(r)},function(){i(!0)}),$(".rightScreens").click(function(){var e=$(".screen-item-active");e.next().hasClass("screen-item")?(e.removeClass("screen-item-active").next().addClass("screen-item-active"),(e.next().next().hasClass("screen-item")&&e.prev().hasClass("screen-item")||$(window).width()<1200)&&$(".screensPanel").css("left",-(e.width()+60)*e.index()+"px")):(e.removeClass("screen-item-active"),$(".screen-item").eq(0).addClass("screen-item-active"),$(".screensPanel").css("left","0"))}),$(".leftScreens").click(function(){var e=$(".screen-item-active");if(e.prev().hasClass("screen-item"))e.removeClass("screen-item-active").prev().addClass("screen-item-active"),(e.prev().prev().hasClass("screen-item")&&e.next().hasClass("screen-item")||$(window).width()<1200)&&$(".screensPanel").css("left",-(e.width()+60)*(e.index()-2)+"px");else{e.removeClass("screen-item-active"),$(".screen-item").last().addClass("screen-item-active");var t=3;$(window).width()<1200&&(t=2),$(".screensPanel").css("left","-"+(($(".screen-item").length-t)*(e.width()+60)+"px"))}}),$(window).width()<768&&$(".screen-item").width($(".screensViewport").width()),$("#sendmail").on("submit",function(e){e.preventDefault(),$(".fa-form-wait").css("display","inline-block"),$.ajax({type:"POST",url:$("#sendmail").attr("action"),data:$("#sendmail").serialize(),success:function(e){var t=JSON.parse(e);$(".fa-form-wait").css("display","none"),"error"===t.type?$("#formSubmitMessage").html('<span style="color: #AA0000;"><i class="fa fa-exclamation-circle"></i> '+t.text+"</span>"):($("#formSubmitMessage").html('<span style="color: #40A6A6;"><i class="fa fa-check-circle"></i> '+t.text+"</span>"),$("#sendmail").slideUp())}})});var a;window.onresize=function(){clearTimeout(a),a=setTimeout(s,300)}}()}),$(window).load(function(){function e(){$(".sliderWrap img").each(function(){$(this).css("margin-left","-"+$(this).width()/2+"px")})}function t(){var e=$(".sliderActive");e.next().hasClass("sliderImg")?e.removeClass("sliderActive").next().addClass("sliderActive"):(e.removeClass("sliderActive"),$(".sliderWrap img").eq(0).addClass("sliderActive")),$(".sliderButtonActive").removeClass("sliderButtonActive"),$(".sliderButton").eq($(".sliderActive").index()).addClass("sliderButtonActive")}function i(){l.addClass("fmToggled"),l.stop().slideDown(1e3,"easeInOutQuint")}function s(){l.removeClass("fmToggled"),l.stop().slideUp(1e3,"easeInOutQuint")}function n(){o||isElementInViewport(a)&&(o=!0,$({someValue:0}).animate({someValue:c},{duration:3e3,step:function(){a.text(Math.round(this.someValue).toLocaleString("en"))},complete:function(){a.text(Math.round(this.someValue).toLocaleString("en"))}}))}e(),$(".sliderWrap img").each(function(){$(".sliderButtons").append("<div class='sliderButton'></div>")}),$(".sliderWrap img").eq(0).addClass("sliderActive"),$(".sliderButton").eq(0).addClass("sliderButtonActive"),$(".sliderButton").click(function(){if(!$(this).hasClass("sliderButtonActive")){var e=$(this).index();$(".sliderActive").removeClass("sliderActive"),$(".sliderWrap img").eq(e).addClass("sliderActive"),$(".sliderButtonActive").removeClass("sliderButtonActive"),$(this).addClass("sliderButtonActive"),clearInterval(r),r=setInterval(t,6e3)}});var r=setInterval(t,6e3);$(".mainMenu").clone().prependTo("#followMenu"),$(".mainMenu a, .headerButton").click(function(e){e.preventDefault();var t=$(this).attr("href");$("html,body").animate({scrollTop:$(t).offset().top-u},800)});var a=$(".downloads span"),c=parseInt(a.html().replace(",","")),o=!1;a.html("0");var l=$("#followMenu"),d=$("#responsiveMenuToggle"),v,m=$("#followMenu .mainMenu"),u=70,h=m.find("a"),w=$("#topContainer").height(),f=h.map(function(){var e=$($(this).attr("href"));return e.length?e:void 0});$(window).scroll(function(){var e=$(this).scrollTop()+u,t=f.map(function(){return $(this).offset().top<=e+5?this:void 0});t=t[t.length-1];var i=t&&t.length?t[0].id:"";v!==i&&(v=i,h.parent().removeClass("menuActive").end().filter("[href=#"+i+"]").parent().addClass("menuActive")),0!==w&&$(window).scrollTop()+80>w?l.hasClass("fmshown")||l.addClass("fmshown"):l.hasClass("fmshown")&&l.removeClass("fmshown"),n()}),d.click(function(){l.hasClass("fmToggled")?l.hasClass("fmToggled")&&s():i()}),$("a",l).click(function(){$(window).width()<1200&&s()}),0!==w&&$(window).scrollTop()+80>w&&l.addClass("fmshown"),$(window).resize(function(){e()}),n()});var header=document.getElementById("topContainer"),xPercent,yPercent,wireframe=document.querySelector(".wireframe1"),w=window.innerWidth,mouseX=0,mouseY=0,xp=0,yp=0;header.onmousemove=function(e){mouseX=e.clientX,mouseY=e.clientY},window.requestAnimationFrame(bgStep);